import{c as $,j as e,u as h,r as j,a as v,m,i as z,T as y}from"./index-DuUKt1XT.js";import{A as N}from"./award-I7TF2Z5P.js";import{S as A}from"./search-BRiJvnLv.js";import{B as f}from"./book-open-CMo2XJfR.js";import{S as T}from"./star-3zSC850D.js";import{C}from"./clock-DyIY91LQ.js";import{U as I,L as U}from"./users-D6ig479l.js";import{C as P}from"./circle-check-big-CqLzuvDj.js";import{T as M,a as H}from"./trophy-BTwwb9q4.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],D=$("folder-open",q),Q={courses:{icon:e.jsx(f,{className:"w-10 h-10 text-[#9AACB6]"}),title:"No courses yet",description:"Courses will appear here once they are created."},search:{icon:e.jsx(A,{className:"w-10 h-10 text-[#9AACB6]"}),title:"No results found",description:"Try adjusting your search or filters."},enrollments:{icon:e.jsx(D,{className:"w-10 h-10 text-[#9AACB6]"}),title:"No enrolled courses",description:"Start learning by enrolling in a course from the catalog!"},general:{icon:e.jsx(N,{className:"w-10 h-10 text-[#9AACB6]"}),title:"Nothing here yet",description:"Content will appear here soon."}};function b({variant:s="general",title:d,description:c,icon:i,action:o}){const n=Q[s];return e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-[#F1F2F4] rounded-full flex items-center justify-center mb-5",children:i||n.icon}),e.jsx("h3",{className:"text-2xl text-[#202732] mb-2",style:{fontFamily:"Caveat, cursive",fontWeight:600},children:d||n.title}),e.jsx("p",{className:"text-[#9AACB6] max-w-sm mb-6",style:{fontFamily:"Inter, sans-serif"},children:c||n.description}),o]})}function O(){const{currentUser:s,getPublishedCourses:d,enrollInCourse:c,enrollments:i}=h(),[o,n]=j.useState(""),[a,t]=j.useState("all"),[r,x]=j.useState("all"),u=d(),w=u.filter(l=>{const p=l.title.toLowerCase().includes(o.toLowerCase())||l.description.toLowerCase().includes(o.toLowerCase()),S=a==="all"||l.category===a,k=r==="all"||l.level===r;return p&&S&&k}),B=["all",...Array.from(new Set(u.map(l=>l.category)))],F=["all","beginner","intermediate","advanced"],E=l=>i.some(p=>p.userId===s?.id&&p.courseId===l),L=l=>{s&&c(s.id,l)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-[#9AACB6]"}),e.jsx("input",{type:"text",placeholder:"Search courses...",value:o,onChange:l=>n(l.target.value),className:"w-full pl-10 pr-4 py-2 bg-[#F1F2F4] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#6E5B6A]"})]}),e.jsx("select",{value:a,onChange:l=>t(l.target.value),className:"px-4 py-2 bg-[#F1F2F4] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#6E5B6A]",children:B.map(l=>e.jsx("option",{value:l,children:l==="all"?"All Categories":l},l))}),e.jsx("select",{value:r,onChange:l=>x(l.target.value),className:"px-4 py-2 bg-[#F1F2F4] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#6E5B6A] capitalize",children:F.map(l=>e.jsx("option",{value:l,className:"capitalize",children:l==="all"?"All Levels":l},l))})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(l=>e.jsx(G,{course:l,isEnrolled:E(l.id),onEnroll:L},l.id))}),w.length===0&&e.jsx(b,{variant:"search"})]})}function G({course:s,isEnrolled:d,onEnroll:c}){const{currentUser:i}=h(),o=v(),n=i!==null;return e.jsxs(m.div,{className:"bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-shadow",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute top-3 right-3 bg-white px-3 py-1 rounded-full text-sm font-semibold text-[#6E5B6A] capitalize",children:s.level}),!s.allowGuests&&!n&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx(z,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("p",{className:"text-sm",children:"Login required"})]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("span",{className:"text-sm text-[#9AACB6]",children:s.category})}),e.jsx("h3",{className:"text-xl font-semibold text-[#202732] mb-2",children:s.title}),e.jsx("p",{className:"text-[#9AACB6] text-sm mb-4 line-clamp-2",children:s.description}),e.jsxs("p",{className:"text-sm text-[#202732] mb-4",children:["By ",e.jsx("span",{className:"font-semibold",children:s.instructorName})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-4 text-sm text-[#9AACB6]",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"w-4 h-4 fill-[#F5AE35] text-[#F5AE35]"}),e.jsx("span",{children:s.rating}),e.jsxs("span",{children:["(",s.reviewsCount,")"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(C,{className:"w-4 h-4"}),e.jsx("span",{children:s.duration})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(I,{className:"w-4 h-4"}),e.jsx("span",{children:s.studentsCount})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsxs("span",{className:"text-2xl font-bold text-[#6E5B6A]",children:["$",s.price]})}),d?e.jsx(m.button,{onClick:()=>o(`/course/${s.id}`),className:"bg-[#6E5B6A] text-white px-6 py-2 rounded-lg font-semibold hover:bg-[#5a4a56] transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Go to Course"}):e.jsx(m.button,{onClick:()=>c(s.id),disabled:!n,className:`px-6 py-2 rounded-lg font-semibold transition-colors ${n?"bg-[#6E5B6A] text-white hover:bg-[#5a4a56]":"bg-[#F1F2F4] text-[#9AACB6] cursor-not-allowed"}`,whileHover:n?{scale:1.05}:{},whileTap:n?{scale:.95}:{},children:n?"Enroll Now":"Login to Enroll"})]})]})]})}function R(){const{currentUser:s,getUserEnrollments:d,getCourseById:c}=h(),i=v();if(!s)return null;const o=(a,t)=>{const r=c(a);if(!r)return;const x=r.lessons.find(u=>!t.includes(u.id));i(x?`/player/${a}/${x.id}`:`/course/${a}`)},n=d(s.id);return n.length===0?e.jsx(b,{variant:"enrollments"}):e.jsx("div",{className:"space-y-6",children:n.map(a=>{const t=c(a.courseId);return t?e.jsx(m.div,{className:"bg-white rounded-2xl p-6 shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx("div",{className:"w-48 h-32 flex-shrink-0 rounded-lg overflow-hidden",children:e.jsx("img",{src:t.thumbnail,alt:t.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold text-[#202732] mb-1",children:t.title}),e.jsxs("p",{className:"text-[#9AACB6]",children:["By ",t.instructorName]})]}),e.jsx("div",{className:`px-4 py-2 rounded-lg ${a.status==="completed"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:a.status==="completed"?e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(P,{className:"w-4 h-4"}),"Completed"]}):e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(C,{className:"w-4 h-4"}),"In Progress"]})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-[#9AACB6]",children:"Progress"}),e.jsxs("span",{className:"text-sm font-semibold text-[#6E5B6A]",children:[Math.round(a.progress),"%"]})]}),e.jsx("div",{className:"w-full h-2 bg-[#F1F2F4] rounded-full overflow-hidden",children:e.jsx(m.div,{className:"h-full bg-[#6E5B6A]",initial:{width:0},animate:{width:`${a.progress}%`},transition:{duration:.5}})})]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm text-[#9AACB6]",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"w-4 h-4"}),e.jsxs("span",{children:[a.completedLessons.length," / ",t.lessons.length," lessons"]})]}),a.quizAttempts.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsxs("span",{children:[a.quizAttempts.filter(r=>r.passed).length," quizzes passed"]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(m.button,{onClick:()=>o(t.id,a.completedLessons),className:"bg-[#6E5B6A] text-white px-6 py-2 rounded-lg font-semibold hover:bg-[#5a4a56] transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:a.status==="completed"?"Review Course":"Continue Learning"})})]})]})},a.id):null})})}function W(){const{currentUser:s,getUserEnrollments:d,getCourseById:c}=h();if(!s)return null;const i=d(s.id),o=i.length,n=i.filter(t=>t.status==="completed").length;i.reduce((t,r)=>t+r.completedLessons.length,0);const a=i.reduce((t,r)=>t+r.quizAttempts.filter(x=>x.passed).length,0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(g,{icon:M,label:"Total Points",value:s.points.toString(),color:"text-[#F5AE35]",bgColor:"bg-[#F5AE35]/10"}),e.jsx(g,{icon:N,label:"Badges Earned",value:s.badges.length.toString(),color:"text-[#6E5B6A]",bgColor:"bg-[#6E5B6A]/10"}),e.jsx(g,{icon:H,label:"Courses Completed",value:`${n} / ${o}`,color:"text-[#9AACB6]",bgColor:"bg-[#9AACB6]/10"}),e.jsx(g,{icon:y,label:"Quizzes Passed",value:a.toString(),color:"text-green-600",bgColor:"bg-green-100"})]}),s.badges.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[e.jsx("h3",{className:"text-xl font-semibold text-[#202732] mb-4",children:"My Badges"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.badges.map(t=>e.jsxs(m.div,{className:"flex items-start gap-3 p-4 bg-[#F1F2F4] rounded-lg",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[e.jsx("div",{className:"text-3xl",children:t.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-[#202732] mb-1",children:t.name}),e.jsx("p",{className:"text-sm text-[#9AACB6] mb-1",children:t.description}),e.jsxs("p",{className:"text-xs text-[#9AACB6]",children:["Earned on ",new Date(t.earnedAt).toLocaleDateString()]})]})]},t.id))})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[e.jsx("h3",{className:"text-xl font-semibold text-[#202732] mb-4",children:"Learning Activity"}),i.length===0?e.jsx(b,{variant:"enrollments",title:"No learning activity yet",description:"Start a course to see your progress!"}):e.jsx("div",{className:"space-y-4",children:i.map(t=>{const r=c(t.courseId);return r?e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-[#F1F2F4] rounded-lg",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden flex-shrink-0",children:e.jsx("img",{src:r.thumbnail,alt:r.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-[#202732] mb-1",children:r.title}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-[#9AACB6]",children:[e.jsxs("span",{children:[t.completedLessons.length," lessons completed"]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:[Math.round(t.progress),"% complete"]})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:`px-3 py-1 rounded-full text-sm ${t.status==="completed"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:t.status==="completed"?"Completed":"In Progress"})})]},t.id):null})})]})]})}function g({icon:s,label:d,value:c,color:i,bgColor:o}){return e.jsxs(m.div,{className:"bg-white rounded-2xl p-6 shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsx("div",{className:`w-12 h-12 ${o} rounded-lg flex items-center justify-center mb-4`,children:e.jsx(s,{className:`w-6 h-6 ${i}`})}),e.jsx("p",{className:"text-sm text-[#9AACB6] mb-1",children:d}),e.jsx("p",{className:"text-2xl font-bold text-[#202732]",children:c})]})}function te(){const{currentUser:s,logout:d}=h(),[c,i]=j.useState("catalog"),o=v(),n=()=>{d(),o("/")};if(!s)return null;const a=[{id:"catalog",label:"Course Catalog",icon:f},{id:"my-courses",label:"My Courses",icon:f},{id:"progress",label:"My Progress",icon:y}];return e.jsxs("div",{className:"min-h-screen bg-[#F1F2F4]",children:[e.jsx("header",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl text-[#202732]",style:{fontFamily:"Caveat, cursive",fontWeight:600},children:"Learn Sphere"}),e.jsx("p",{className:"text-sm text-[#9AACB6]",children:"Learner Dashboard"})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-[#F5AE35]/10 px-4 py-2 rounded-lg",children:[e.jsx(N,{className:"w-5 h-5 text-[#F5AE35]"}),e.jsxs("span",{className:"font-semibold text-[#202732]",children:[s.points," pts"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:s.badges.slice(0,3).map(t=>e.jsx("div",{title:t.name,className:"text-2xl",children:t.icon},t.id))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-[#202732]",children:s.name}),e.jsx("p",{className:"text-sm text-[#9AACB6]",children:s.email})]}),s.avatar&&e.jsx("img",{src:s.avatar,alt:s.name,className:"w-10 h-10 rounded-full"}),e.jsx("button",{onClick:n,className:"p-2 hover:bg-[#F1F2F4] rounded-lg transition-colors",title:"Logout",children:e.jsx(U,{className:"w-5 h-5 text-[#9AACB6]"})})]})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6",children:e.jsx("nav",{className:"flex gap-8",children:a.map(t=>{const r=t.icon,x=c===t.id;return e.jsxs("button",{onClick:()=>i(t.id),className:`flex items-center gap-2 py-4 border-b-2 transition-colors ${x?"border-[#6E5B6A] text-[#6E5B6A]":"border-transparent text-[#9AACB6] hover:text-[#202732]"}`,children:[e.jsx(r,{className:"w-5 h-5"}),e.jsx("span",{className:"font-semibold",children:t.label})]},t.id)})})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-8",children:[c==="catalog"&&e.jsx(O,{}),c==="my-courses"&&e.jsx(R,{}),c==="progress"&&e.jsx(W,{})]})]})}export{te as LearnerDashboard};
