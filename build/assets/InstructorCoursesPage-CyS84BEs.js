import{c as I,r as s,j as e,A as _,m as a,X as te,L as me,b as je,d as ve,e as Ne,R as we,f as re,G as Fe,u as xe,B as Ce,g as Ie,T as ke,C as Ae,a as Ee,U as Se,h as Be}from"./index-DuUKt1XT.js";import{C as se}from"./circle-check-big-CqLzuvDj.js";import{C as q}from"./circle-help-DNU43eMl.js";import{F as oe}from"./file-text-K6Ub3O_I.js";import{P as G}from"./plus-DESe_BCg.js";import{U as he,L as Te}from"./users-D6ig479l.js";import{A as ce}from"./award-I7TF2Z5P.js";import{D as ze}from"./download-DJk4RqOR.js";import{A as ue}from"./arrow-left-BJ4-Mf8G.js";import{S as De}from"./settings-hS8g6dmy.js";import{C as ye}from"./clock-DyIY91LQ.js";import{B as Le}from"./book-open-CMo2XJfR.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Me=I("book",Ue);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],pe=I("check",$e);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],We=I("chevron-down",Qe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_e=I("circle-alert",Pe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Oe=I("circle",He);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Ve=I("copy",Re);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],fe=I("ellipsis-vertical",qe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ke=I("eye",Ge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Ye=I("file",Xe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],ge=I("grip-vertical",Je);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],es=I("link",Ze);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],ts=I("list-checks",ss);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],ns=I("message-square",as);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],ls=I("paperclip",is);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],be=I("save",rs);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],de=I("square-pen",os);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],$=I("trash-2",cs);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ms=I("upload",ds);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],hs=I("video",xs);function us({isOpen:o,onClose:u,lessonId:g,lesson:d,onSave:b,onQuizLessonCreated:y}){const[c,p]=s.useState("content"),[j,h]=s.useState(""),[i,m]=s.useState("video"),[n,t]=s.useState(""),[l,N]=s.useState(""),[f,B]=s.useState("5"),[L,H]=s.useState(""),[T,U]=s.useState(""),[E,M]=s.useState(null),[z,x]=s.useState(null),[k,S]=s.useState([]),[A,O]=s.useState(!1),[ae,Q]=s.useState(""),[R,V]=s.useState(""),[ne,K]=s.useState(""),[ie,X]=s.useState(""),[le,Y]=s.useState([]),D=s.useRef(null),W=s.useRef(null),J=s.useRef(null);s.useEffect(()=>{d?(h(d.title),m(d.type),t(d.duration||"")):(h(""),m("video"),t("")),N(""),H(""),U(""),M(null),x(null),S([]),p("content"),O(!1),Q(""),V(""),K(""),X(""),Y([])},[d,o]);const Z=async()=>{V(""),O(!0);try{let r=T||ne,w=ie,C=[...le];if(i==="video"&&E){Q("Uploading videoâ€¦");try{const F=await je(E);r=F.file.url,K(F.file.url)}catch(F){console.warn("Video upload to backend failed, saving locally:",F.message)}}if(i==="document"&&z){Q("Uploading documentâ€¦");try{const F=await ve(z);w=F.file.url,X(F.file.url)}catch(F){console.warn("Document upload to backend failed, saving locally:",F.message)}}if(k.length>0){Q(`Uploading ${k.length} attachment(s)â€¦`);for(const F of k)try{const P=await Ne(F);C.push(P.file.url)}catch(P){console.warn(`Attachment upload failed for ${F.name}:`,P.message)}Y(C)}if(b&&d&&b({...d,title:j||d.title,type:i,duration:i==="video"?n||d.duration:i==="document"?"Reading":"Quiz",videoUrl:r||void 0,documentUrl:w||void 0,attachmentUrls:C.length>0?C:void 0}),i==="quiz"&&y){const F=parseInt(f)||5;y(j||d?.title||"Quiz",F)}u()}catch(r){V(r.message||"Upload failed. Please try again.")}finally{O(!1),Q("")}},v=[{id:"content",label:"Content"},{id:"description",label:"Description"},{id:"attachments",label:"Attachments"}];return o?e.jsx(_,{children:o&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:u,className:"fixed inset-0 bg-black/50 z-50 backdrop-blur-sm"}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsxs(a.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",stiffness:300,damping:30},className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden",onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{className:"border-b border-gray-200 px-8 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-4xl text-[#202732]",style:{fontFamily:"Caveat, cursive",fontWeight:600},children:g?"Edit Lesson":"Add New Lesson"}),e.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(te,{className:"w-5 h-5 text-gray-600"})})]}),e.jsxs("div",{className:"flex gap-6 relative",children:[v.map(r=>e.jsx("button",{onClick:()=>p(r.id),className:`pb-3 text-sm font-medium relative transition-colors ${c===r.id?"text-[#6E5B6A]":"text-gray-500 hover:text-[#6E5B6A]"}`,style:{fontFamily:"Inter, sans-serif"},children:r.label},r.id)),v.map(r=>c===r.id?e.jsx(a.div,{className:"absolute bottom-0 left-0",layoutId:"lessonModalTab",transition:{type:"spring",stiffness:500,damping:30},children:e.jsx("div",{className:"h-0.5 w-20 bg-[#F5AE35] rounded-full"})},r.id):null)]})]}),e.jsx("div",{className:"px-8 py-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:e.jsx(_,{mode:"wait",children:e.jsxs(a.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},children:[c==="content"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#202732] mb-2",style:{fontFamily:"Inter, sans-serif"},children:"Lesson Title"}),e.jsx("input",{type:"text",value:j,onChange:r=>h(r.target.value),placeholder:"e.g., Introduction to Components",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#6E5B6A] focus:outline-none transition-colors",style:{fontFamily:"Inter, sans-serif"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#202732] mb-2",style:{fontFamily:"Inter, sans-serif"},children:"Lesson Type"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["video","document","quiz"].map(r=>e.jsx("button",{onClick:()=>m(r),className:`py-3 px-4 rounded-lg border-2 transition-all ${i===r?"border-[#6E5B6A] bg-[#6E5B6A]/5 text-[#6E5B6A]":"border-gray-200 hover:border-gray-300"}`,style:{fontFamily:"Inter, sans-serif",fontWeight:500},children:r.charAt(0).toUpperCase()+r.slice(1)},r))})]}),i==="video"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#202732] mb-2",style:{fontFamily:"Inter, sans-serif"},children:"Video URL or Upload"}),e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(es,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"url",value:T,onChange:r=>{U(r.target.value),M(null)},placeholder:"Paste YouTube, Vimeo, or direct video URL",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#6E5B6A] focus:outline-none transition-colors",style:{fontFamily:"Inter, sans-serif"}})]})}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"h-px bg-gray-200 flex-1"}),e.jsx("span",{className:"text-xs text-gray-400",style:{fontFamily:"Inter, sans-serif"},children:"or"}),e.jsx("div",{className:"h-px bg-gray-200 flex-1"})]}),e.jsx("input",{ref:D,type:"file",accept:"video/mp4,video/quicktime,video/webm,.mp4,.mov,.webm",className:"hidden",onChange:r=>{const w=r.target.files?.[0];w&&(M(w),U(""))}}),E?e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 border-2 border-green-200 rounded-lg",children:[e.jsx(se,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-green-800 truncate",style:{fontFamily:"Inter, sans-serif"},children:E.name}),e.jsxs("p",{className:"text-xs text-green-600",style:{fontFamily:"Inter, sans-serif"},children:[(E.size/(1024*1024)).toFixed(1)," MB"]})]}),e.jsx("button",{onClick:()=>{M(null),D.current&&(D.current.value="")},className:"p-1 hover:bg-green-100 rounded",children:e.jsx($,{className:"w-4 h-4 text-green-700"})})]}):e.jsxs("div",{onClick:()=>D.current?.click(),className:"border-2 border-dashed border-gray-300 hover:border-[#6E5B6A] rounded-lg p-8 text-center cursor-pointer transition-colors",children:[e.jsx(ms,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Click to upload a video file"}),e.jsx("p",{className:"text-xs text-gray-500",style:{fontFamily:"Inter, sans-serif"},children:"Supports MP4, MOV, WebM"})]}),T&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 border border-blue-200 rounded-lg mt-3",children:[e.jsx(se,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-blue-700 truncate flex-1",style:{fontFamily:"Inter, sans-serif"},children:T}),e.jsx("button",{onClick:()=>U(""),className:"p-1 hover:bg-blue-100 rounded",children:e.jsx($,{className:"w-3 h-3 text-blue-600"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#202732] mb-2",style:{fontFamily:"Inter, sans-serif"},children:"Duration"}),e.jsx("input",{type:"text",value:n,onChange:r=>t(r.target.value),placeholder:"e.g., 12:45",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#6E5B6A] focus:outline-none transition-colors",style:{fontFamily:"Inter, sans-serif"}})]})]}),i==="document"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#202732] mb-2",style:{fontFamily:"Inter, sans-serif"},children:"Upload Document"}),e.jsx("input",{ref:W,type:"file",accept:".pdf,.doc,.docx,.pptx,.ppt,.txt,.md",className:"hidden",onChange:r=>{const w=r.target.files?.[0];w&&x(w)}}),z?e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 border-2 border-green-200 rounded-lg",children:[e.jsx(se,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-green-800 truncate",style:{fontFamily:"Inter, sans-serif"},children:z.name}),e.jsxs("p",{className:"text-xs text-green-600",style:{fontFamily:"Inter, sans-serif"},children:[(z.size/1024).toFixed(0)," KB"]})]}),e.jsx("button",{onClick:()=>{x(null),W.current&&(W.current.value="")},className:"p-1 hover:bg-green-100 rounded",children:e.jsx($,{className:"w-4 h-4 text-green-700"})})]}):e.jsxs("div",{onClick:()=>W.current?.click(),className:"border-2 border-dashed border-gray-300 hover:border-[#6E5B6A] rounded-lg p-8 text-center cursor-pointer transition-colors",children:[e.jsx(Ye,{className:"w-12 h-12 text-blue-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Click to upload a document"}),e.jsx("p",{className:"text-xs text-gray-500",style:{fontFamily:"Inter, sans-serif"},children:"Supports PDF, DOCX, PPTX, or TXT files"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#202732] mb-2",style:{fontFamily:"Inter, sans-serif"},children:"Or write content directly"}),e.jsx("textarea",{value:l,onChange:r=>N(r.target.value),placeholder:"Write your lesson content here using markdown or plain text...",className:"w-full h-48 px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#6E5B6A] focus:outline-none resize-none transition-colors",style:{fontFamily:"Inter, sans-serif"}})]})]}),i==="quiz"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(q,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-yellow-800 font-medium",style:{fontFamily:"Inter, sans-serif"},children:"Quiz lessons embed inline assessments"}),e.jsx("p",{className:"text-xs text-yellow-600 mt-1",style:{fontFamily:"Inter, sans-serif"},children:"Configure the full quiz with questions in the Quiz tab of the course editor."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#202732] mb-2",style:{fontFamily:"Inter, sans-serif"},children:"Number of Questions"}),e.jsx("input",{type:"number",min:"1",max:"50",value:f,onChange:r=>B(r.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#6E5B6A] focus:outline-none transition-colors",style:{fontFamily:"Inter, sans-serif"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#202732] mb-2",style:{fontFamily:"Inter, sans-serif"},children:"Time Limit (minutes, optional)"}),e.jsx("input",{type:"number",min:"1",placeholder:"No time limit",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#6E5B6A] focus:outline-none transition-colors",style:{fontFamily:"Inter, sans-serif"}})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 rounded-lg p-4",children:[e.jsx(ts,{className:"w-5 h-5 text-[#6E5B6A]"}),e.jsxs("p",{className:"text-sm text-gray-600",style:{fontFamily:"Inter, sans-serif"},children:["Use the ",e.jsx("strong",{children:"Quiz tab"})," in the course editor to add and manage individual questions."]})]})]})]}),c==="description"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#202732] mb-2",style:{fontFamily:"Inter, sans-serif"},children:"Lesson Description"}),e.jsx("textarea",{placeholder:"Describe what students will learn in this lesson...",className:"w-full h-64 px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#6E5B6A] focus:outline-none resize-none transition-colors",style:{fontFamily:"Inter, sans-serif"}})]}),c==="attachments"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#202732] mb-2",style:{fontFamily:"Inter, sans-serif"},children:"Resource Files"}),e.jsx("input",{ref:J,type:"file",multiple:!0,accept:".pdf,.doc,.docx,.pptx,.ppt,.txt,.md,.zip,.js,.ts,.py,.css,.html,.jpg,.png,.csv",className:"hidden",onChange:r=>{const w=r.target.files;w&&S(C=>[...C,...Array.from(w)])}}),e.jsxs("div",{onClick:()=>J.current?.click(),className:"border-2 border-dashed border-gray-300 hover:border-[#6E5B6A] rounded-lg p-8 text-center cursor-pointer transition-colors",children:[e.jsx(ls,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Click to upload files for students"}),e.jsx("p",{className:"text-xs text-gray-500",style:{fontFamily:"Inter, sans-serif"},children:"PDFs, slides, code files, images, etc."})]}),k.length>0&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("p",{className:"text-sm font-medium text-[#202732]",style:{fontFamily:"Inter, sans-serif"},children:[k.length," file",k.length>1?"s":""," selected"]}),k.map((r,w)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(oe,{className:"w-4 h-4 text-[#6E5B6A] flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-[#202732] truncate",style:{fontFamily:"Inter, sans-serif"},children:r.name}),e.jsxs("p",{className:"text-xs text-gray-500",style:{fontFamily:"Inter, sans-serif"},children:[(r.size/1024).toFixed(0)," KB"]})]}),e.jsx("button",{onClick:C=>{C.stopPropagation(),S(F=>F.filter((P,ee)=>ee!==w))},className:"p-1 hover:bg-gray-200 rounded",children:e.jsx($,{className:"w-3 h-3 text-red-500"})})]},`${r.name}-${w}`))]})]})]},c)})}),(A||R)&&e.jsxs("div",{className:"px-8 pb-2",children:[A&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#6E5B6A]",style:{fontFamily:"Inter, sans-serif"},children:[e.jsx(me,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:ae||"Uploadingâ€¦"})]}),R&&e.jsx("p",{className:"text-sm text-red-600",style:{fontFamily:"Inter, sans-serif"},children:R})]}),e.jsxs("div",{className:"border-t border-gray-200 px-8 py-6 flex justify-end gap-3",children:[e.jsx(a.button,{onClick:u,className:"px-6 py-2.5 border-2 border-gray-300 text-gray-700 rounded-full hover:bg-gray-50 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.98},style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:"Cancel"}),e.jsxs(a.button,{onClick:Z,disabled:A,className:`px-6 py-2.5 rounded-full transition-colors shadow-lg flex items-center gap-2 ${A?"bg-gray-400 text-white cursor-not-allowed":"bg-[#6E5B6A] text-white hover:bg-[#5a4a56]"}`,whileHover:A?{}:{scale:1.05,boxShadow:"0 10px 30px rgba(110, 91, 106, 0.3)"},whileTap:A?{}:{scale:.98},style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:[A&&e.jsx(me,{className:"w-4 h-4 animate-spin"}),A?"Uploadingâ€¦":g?"Update Lesson":"Create Lesson"]})]})]})})]})}):null}function ys({lessons:o,onLessonsChange:u,onQuizLessonAdded:g}){const[d,b]=s.useState(!1),[y,c]=s.useState(null),[p,j]=s.useState(null),h=y?o.find(l=>l.id===y):void 0,i=l=>{u(o.map(N=>N.id===l.id?l:N))},m=(l,N)=>{g?.(l,N)},n=l=>{switch(l){case"video":return hs;case"document":return oe;case"quiz":return q}},t=l=>{switch(l){case"video":return"bg-purple-100 text-purple-700";case"document":return"bg-blue-100 text-blue-700";case"quiz":return"bg-yellow-100 text-yellow-700"}};return e.jsxs("div",{children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-3xl text-[#202732] mb-2",style:{fontFamily:"Caveat, cursive",fontWeight:600},children:"Course Content"}),e.jsx("p",{className:"text-gray-600",style:{fontFamily:"Inter, sans-serif"},children:"Organize your lessons in the order students will learn"})]}),e.jsx("div",{className:"space-y-3 mb-6",children:o.map((l,N)=>e.jsxs(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:N*.05},className:"group bg-gray-50 hover:bg-gray-100 rounded-lg p-4 flex items-center gap-4 transition-colors",children:[e.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity cursor-grab active:cursor-grabbing",children:e.jsx(ge,{className:"w-5 h-5 text-gray-400"})}),e.jsx("div",{className:"flex-shrink-0",children:we.createElement(n(l.type),{className:"w-5 h-5 text-[#6E5B6A]"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-[#202732] font-medium",style:{fontFamily:"Inter, sans-serif"},children:l.title}),l.duration&&e.jsx("p",{className:"text-sm text-gray-500",style:{fontFamily:"Inter, sans-serif"},children:l.duration})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${t(l.type)}`,style:{fontFamily:"Inter, sans-serif"},children:l.type}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>j(p===l.id?null:l.id),className:"p-2 hover:bg-white rounded-lg transition-colors",children:e.jsx(fe,{className:"w-4 h-4 text-gray-600"})}),e.jsx(_,{children:p===l.id&&e.jsxs(a.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.15},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl border border-gray-200 py-2 z-10",children:[e.jsxs("button",{onClick:()=>{c(l.id),j(null)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",style:{fontFamily:"Inter, sans-serif"},children:[e.jsx(de,{className:"w-4 h-4"}),"Edit Lesson"]}),e.jsxs("button",{onClick:()=>{u(o.filter(f=>f.id!==l.id)),j(null)},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",style:{fontFamily:"Inter, sans-serif"},children:[e.jsx($,{className:"w-4 h-4"}),"Delete Lesson"]})]})})]})]},l.id))}),e.jsxs(a.button,{onClick:()=>{const l={id:String(Date.now()),title:`Lesson ${o.length+1}`,type:"video",duration:"",order:o.length+1};u([...o,l]),c(l.id)},className:"w-full py-4 border-2 border-dashed border-[#6E5B6A] text-[#6E5B6A] rounded-lg hover:bg-[#6E5B6A] hover:text-white transition-colors flex items-center justify-center gap-2",whileHover:{scale:1.01},whileTap:{scale:.99},style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:[e.jsx(G,{className:"w-5 h-5"}),"Add Lesson"]})]}),e.jsx(us,{isOpen:d||y!==null,onClose:()=>{b(!1),c(null)},lessonId:y,lesson:h,onSave:i,onQuizLessonCreated:m})]})}function ps({description:o,onDescriptionChange:u,category:g,onCategoryChange:d,level:b,onLevelChange:y,learningObjectives:c,onLearningObjectivesChange:p}){const[j,h]=s.useState(""),[i,m]=s.useState(!1),{showToast:n}=re(),t=()=>{n("Description saved successfully"),m(!0),setTimeout(()=>m(!1),2e3)},l=()=>{j.trim()&&(p([...c,j.trim()]),h(""))},N=f=>{p(c.filter((B,L)=>L!==f))};return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(a.div,{className:"bg-white rounded-2xl shadow-lg p-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[e.jsx("h2",{className:"text-3xl text-[#202732] mb-2",style:{fontFamily:"Caveat, cursive",fontWeight:600},children:"Course Description"}),e.jsx("p",{className:"text-gray-600 mb-6",style:{fontFamily:"Inter, sans-serif"},children:"Tell students what they'll learn and why it matters"}),e.jsx("textarea",{value:o,onChange:f=>u(f.target.value),placeholder:"Write a compelling description of your course. What will students learn? What problems will they solve? What makes this course unique?",className:"w-full h-96 px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#6E5B6A] focus:outline-none resize-none transition-colors",style:{fontFamily:"Inter, sans-serif",lineHeight:"1.6"}}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-sm text-gray-500",style:{fontFamily:"Inter, sans-serif"},children:[o.length," / 2000 characters"]}),e.jsx(a.button,{onClick:t,className:"px-6 py-3 bg-[#6E5B6A] text-white rounded-lg hover:bg-[#5a4a56] transition-colors flex items-center gap-2",style:{fontFamily:"Inter, sans-serif",fontWeight:600},whileHover:{scale:1.05},whileTap:{scale:.98},children:i?e.jsxs(e.Fragment,{children:[e.jsx(pe,{className:"w-5 h-5"}),"Saved!"]}):"Save Description"})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(a.div,{className:"bg-white rounded-2xl shadow-lg p-6",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},children:[e.jsx("h3",{className:"text-xl text-[#202732] mb-4",style:{fontFamily:"Caveat, cursive",fontWeight:600},children:"Course Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#202732] mb-2",style:{fontFamily:"Inter, sans-serif"},children:"Category"}),e.jsxs("select",{value:g,onChange:f=>d(f.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#6E5B6A] focus:outline-none transition-colors",style:{fontFamily:"Inter, sans-serif"},children:[e.jsx("option",{children:"Web Development"}),e.jsx("option",{children:"Mobile Development"}),e.jsx("option",{children:"Design"}),e.jsx("option",{children:"Business"}),e.jsx("option",{children:"Marketing"}),e.jsx("option",{children:"Data Science"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#202732] mb-2",style:{fontFamily:"Inter, sans-serif"},children:"Difficulty Level"}),e.jsxs("select",{value:b,onChange:f=>y(f.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#6E5B6A] focus:outline-none transition-colors",style:{fontFamily:"Inter, sans-serif"},children:[e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Intermediate"}),e.jsx("option",{value:"advanced",children:"Advanced"}),e.jsx("option",{children:"All Levels"})]})]})]})]}),e.jsxs(a.div,{className:"bg-white rounded-2xl shadow-lg p-6",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:[e.jsx("h3",{className:"text-xl text-[#202732] mb-4",style:{fontFamily:"Caveat, cursive",fontWeight:600},children:"Learning Objectives"}),e.jsx("div",{className:"space-y-3 mb-4",children:c.map((f,B)=>e.jsxs("div",{className:"group p-3 bg-[#F5AE35]/10 rounded-lg border-l-4 border-[#F5AE35] flex items-start gap-2",children:[e.jsx("p",{className:"flex-1 text-sm text-[#202732]",style:{fontFamily:"Inter, sans-serif"},children:f}),e.jsx("button",{onClick:()=>N(B),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-red-100 rounded",children:e.jsx(te,{className:"w-4 h-4 text-red-500"})})]},B))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:j,onChange:f=>h(f.target.value),onKeyDown:f=>{f.key==="Enter"&&l()},placeholder:"Enter learning objective",className:"flex-1 px-3 py-2 border-2 border-gray-300 rounded-lg focus:border-[#6E5B6A] focus:outline-none text-sm",style:{fontFamily:"Inter, sans-serif"}}),e.jsx(a.button,{onClick:l,className:"p-2 bg-[#6E5B6A] text-white rounded-lg hover:bg-[#5a4a56] transition-colors",whileHover:{scale:1.05},whileTap:{scale:.98},children:e.jsx(G,{className:"w-5 h-5"})})]})]})]})]})}function fs({isPublic:o,onPublicChange:u,requiresEnrollment:g,onRequiresEnrollmentChange:d,enableComments:b,onEnableCommentsChange:y,enableCertificate:c,onEnableCertificateChange:p,enableDownloads:j,onEnableDownloadsChange:h,maxStudents:i,onMaxStudentsChange:m}){const n=({enabled:t,onChange:l})=>e.jsx("button",{onClick:l,className:`w-12 h-6 rounded-full transition-colors relative ${t?"bg-[#6E5B6A]":"bg-gray-300"}`,children:e.jsx(a.div,{className:"absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow",animate:{x:t?24:0},transition:{type:"spring",stiffness:500,damping:30}})});return e.jsx("div",{className:"max-w-4xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(a.div,{className:"bg-white rounded-2xl shadow-lg p-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx("div",{className:"p-3 bg-[#6E5B6A]/10 rounded-lg",children:e.jsx(Fe,{className:"w-6 h-6 text-[#6E5B6A]"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-2xl text-[#202732] mb-1",style:{fontFamily:"Caveat, cursive",fontWeight:600},children:"Visibility & Access"}),e.jsx("p",{className:"text-gray-600",style:{fontFamily:"Inter, sans-serif"},children:"Control who can see and access your course"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-base font-semibold text-[#202732] mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Public Course"}),e.jsx("p",{className:"text-sm text-gray-600",style:{fontFamily:"Inter, sans-serif"},children:"Anyone can discover and view this course"})]}),e.jsx(n,{enabled:o,onChange:()=>u(!o)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-base font-semibold text-[#202732] mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Require Enrollment"}),e.jsx("p",{className:"text-sm text-gray-600",style:{fontFamily:"Inter, sans-serif"},children:"Students must enroll before accessing content"})]}),e.jsx(n,{enabled:g,onChange:()=>d(!g)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#202732] mb-2",style:{fontFamily:"Inter, sans-serif"},children:"Maximum Students (Optional)"}),e.jsx("input",{type:"number",value:i,onChange:t=>m(t.target.value),placeholder:"Leave empty for unlimited",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#6E5B6A] focus:outline-none transition-colors",style:{fontFamily:"Inter, sans-serif"}})]})]})]}),e.jsxs(a.div,{className:"bg-white rounded-2xl shadow-lg p-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx("div",{className:"p-3 bg-[#F5AE35]/10 rounded-lg",children:e.jsx(he,{className:"w-6 h-6 text-[#F5AE35]"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-2xl text-[#202732] mb-1",style:{fontFamily:"Caveat, cursive",fontWeight:600},children:"Learning Experience"}),e.jsx("p",{className:"text-gray-600",style:{fontFamily:"Inter, sans-serif"},children:"Customize how students interact with your course"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx(ns,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-[#202732] mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Enable Comments"}),e.jsx("p",{className:"text-sm text-gray-600",style:{fontFamily:"Inter, sans-serif"},children:"Let students ask questions and discuss"})]})]}),e.jsx(n,{enabled:b,onChange:()=>y(!b)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx(ce,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-[#202732] mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Issue Certificate"}),e.jsx("p",{className:"text-sm text-gray-600",style:{fontFamily:"Inter, sans-serif"},children:"Award certificate upon course completion"})]})]}),e.jsx(n,{enabled:c,onChange:()=>p(!c)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx(ze,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-[#202732] mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Downloadable Resources"}),e.jsx("p",{className:"text-sm text-gray-600",style:{fontFamily:"Inter, sans-serif"},children:"Allow students to download course materials"})]})]}),e.jsx(n,{enabled:j,onChange:()=>h(!j)})]})]})]})]})})}function gs({quizId:o,onBack:u,onSave:g}){const[d,b]=s.useState(o==="new"?"Untitled Quiz":"Introduction Knowledge Check"),[y,c]=s.useState("1"),[p,j]=s.useState(!1),[h,i]=s.useState([{id:"1",text:"What is React?",type:"multiple-choice",options:["A library","A framework","A language","An IDE"],correctAnswer:0,points:10},{id:"2",text:"React uses a virtual DOM",type:"true-false",options:["True","False"],correctAnswer:0,points:5}]),m=h.find(n=>n.id===y);return e.jsxs("div",{className:"min-h-screen bg-[#F1F2F4]",children:[e.jsx("header",{className:"sticky top-0 z-20 bg-white border-b border-gray-200 px-8 py-6 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[e.jsxs(a.button,{onClick:u,className:"flex items-center gap-2 text-[#6E5B6A] hover:bg-[#F1F2F4] px-4 py-2 rounded-lg transition-colors",whileHover:{scale:1.05,x:-5},whileTap:{scale:.98},style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:[e.jsx(ue,{className:"w-5 h-5"}),"Back to Course"]}),e.jsx("input",{type:"text",value:d,onChange:n=>b(n.target.value),className:"text-3xl md:text-4xl text-[#202732] bg-transparent border-none outline-none flex-1 min-w-0",style:{fontFamily:"Caveat, cursive",fontWeight:600},placeholder:"Quiz title..."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(a.button,{onClick:()=>j(!0),className:"flex items-center gap-2 px-6 py-2.5 bg-[#F5AE35] text-white rounded-full hover:bg-[#e09d25] transition-colors shadow-lg",whileHover:{scale:1.05,boxShadow:"0 10px 30px rgba(245, 174, 53, 0.3)"},whileTap:{scale:.98},style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:[e.jsx(ce,{className:"w-5 h-5"}),"Reward Logic"]}),g&&e.jsxs(a.button,{onClick:()=>g({title:d,questions:h}),className:"flex items-center gap-2 px-6 py-2.5 bg-[#2FBF71] text-white rounded-full hover:bg-[#27a862] transition-colors shadow-lg",whileHover:{scale:1.05},whileTap:{scale:.98},style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:[e.jsx(be,{className:"w-5 h-5"}),"Save Quiz"]})]})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-2xl text-[#202732] mb-4",style:{fontFamily:"Caveat, cursive",fontWeight:600},children:"Questions"}),e.jsx("div",{className:"space-y-2 mb-4",children:h.map((n,t)=>e.jsx(a.button,{onClick:()=>c(n.id),className:`w-full text-left p-4 rounded-lg transition-all ${y===n.id?"bg-[#6E5B6A] text-white":"bg-gray-50 hover:bg-gray-100 text-[#202732]"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ge,{className:"w-4 h-4 opacity-50"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"text-sm font-medium truncate",style:{fontFamily:"Inter, sans-serif"},children:["Q",t+1,": ",n.text]}),e.jsxs("div",{className:"text-xs opacity-75",style:{fontFamily:"Inter, sans-serif"},children:[n.points," points"]})]})]})},n.id))}),e.jsxs(a.button,{onClick:()=>{const n={id:String(Date.now()),text:"New question",type:"multiple-choice",options:["Option 1","Option 2","Option 3","Option 4"],correctAnswer:0,points:10};i([...h,n]),c(n.id)},className:"w-full py-3 border-2 border-dashed border-[#6E5B6A] text-[#6E5B6A] rounded-lg hover:bg-[#6E5B6A] hover:text-white transition-colors flex items-center justify-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:[e.jsx(G,{className:"w-4 h-4"}),"Add Question"]})]})}),e.jsx("div",{className:"lg:col-span-2",children:m?e.jsx(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#202732] mb-2",style:{fontFamily:"Inter, sans-serif"},children:"Question"}),e.jsx("textarea",{value:m.text,onChange:n=>i(h.map(t=>t.id===m.id?{...t,text:n.target.value}:t)),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#6E5B6A] focus:outline-none resize-none transition-colors",style:{fontFamily:"Inter, sans-serif"},rows:3,placeholder:"Enter your question..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#202732] mb-2",style:{fontFamily:"Inter, sans-serif"},children:"Question Type"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>i(h.map(n=>n.id===m.id?{...n,type:"multiple-choice"}:n)),className:`flex-1 py-3 rounded-lg border-2 transition-all ${m.type==="multiple-choice"?"border-[#6E5B6A] bg-[#6E5B6A]/5 text-[#6E5B6A]":"border-gray-200 hover:border-gray-300"}`,style:{fontFamily:"Inter, sans-serif",fontWeight:500},children:"Multiple Choice"}),e.jsx("button",{onClick:()=>i(h.map(n=>n.id===m.id?{...n,type:"true-false"}:n)),className:`flex-1 py-3 rounded-lg border-2 transition-all ${m.type==="true-false"?"border-[#6E5B6A] bg-[#6E5B6A]/5 text-[#6E5B6A]":"border-gray-200 hover:border-gray-300"}`,style:{fontFamily:"Inter, sans-serif",fontWeight:500},children:"True/False"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#202732] mb-2",style:{fontFamily:"Inter, sans-serif"},children:"Answer Options"}),e.jsx("div",{className:"space-y-3",children:m.options.map((n,t)=>e.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-lg border-2 transition-all ${m.correctAnswer===t?"border-green-500 bg-green-50":"border-gray-200"}`,children:[e.jsx("button",{onClick:()=>i(h.map(l=>l.id===m.id?{...l,correctAnswer:t}:l)),children:m.correctAnswer===t?e.jsx(se,{className:"w-5 h-5 text-green-500"}):e.jsx(Oe,{className:"w-5 h-5 text-gray-400"})}),e.jsx("input",{type:"text",value:n,onChange:l=>{const N=[...m.options];N[t]=l.target.value,i(h.map(f=>f.id===m.id?{...f,options:N}:f))},className:"flex-1 bg-transparent border-none outline-none",style:{fontFamily:"Inter, sans-serif"},placeholder:`Option ${t+1}`})]},t))}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",style:{fontFamily:"Inter, sans-serif"},children:"Click the circle to mark the correct answer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#202732] mb-2",style:{fontFamily:"Inter, sans-serif"},children:"Points"}),e.jsx("input",{type:"number",value:m.points,onChange:n=>i(h.map(t=>t.id===m.id?{...t,points:Number(n.target.value)}:t)),className:"w-32 px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#6E5B6A] focus:outline-none transition-colors",style:{fontFamily:"Inter, sans-serif"},min:"1"})]}),e.jsxs(a.button,{onClick:()=>{i(h.filter(n=>n.id!==m.id)),c(h[0]?.id||null)},className:"flex items-center gap-2 text-red-600 hover:text-red-700",whileHover:{scale:1.05},whileTap:{scale:.95},style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:[e.jsx($,{className:"w-4 h-4"}),"Delete Question"]})]})},m.id):e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-16 text-center",children:e.jsx("p",{className:"text-gray-400",style:{fontFamily:"Inter, sans-serif"},children:"Select a question to edit or create a new one"})})})]})}),e.jsx(bs,{isOpen:p,onClose:()=>j(!1)})]})}function bs({isOpen:o,onClose:u}){const[g,d]=s.useState(100),[b,y]=s.useState("Quiz Master");return o?e.jsx(_,{children:o&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:u,className:"fixed inset-0 bg-black/50 z-50 backdrop-blur-sm"}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsxs(a.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"bg-gradient-to-r from-[#F5AE35] to-[#f9d998] px-8 py-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-3xl",style:{fontFamily:"Caveat, cursive",fontWeight:600},children:"Quiz Rewards"}),e.jsx("button",{onClick:u,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:e.jsx(te,{className:"w-5 h-5"})})]}),e.jsx("p",{style:{fontFamily:"Inter, sans-serif"},children:"Configure points and badges for completion"})]}),e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#202732] mb-2",style:{fontFamily:"Inter, sans-serif"},children:"Points Awarded"}),e.jsx("input",{type:"number",value:g,onChange:c=>d(Number(c.target.value)),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#F5AE35] focus:outline-none transition-colors",style:{fontFamily:"Inter, sans-serif"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#202732] mb-2",style:{fontFamily:"Inter, sans-serif"},children:"Badge Name"}),e.jsx("input",{type:"text",value:b,onChange:c=>y(c.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#F5AE35] focus:outline-none transition-colors",style:{fontFamily:"Inter, sans-serif"},placeholder:"e.g., Quiz Master"})]}),e.jsx(a.button,{onClick:u,className:"w-full py-3 bg-[#F5AE35] text-white rounded-full hover:bg-[#e09d25] transition-colors shadow-lg",whileHover:{scale:1.02},whileTap:{scale:.98},style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:"Save Rewards"})]})]})})]})}):null}function js({quizzes:o,onQuizzesChange:u,courseId:g}){const[d,b]=s.useState(null),[y,c]=s.useState(!1),{showToast:p}=re(),j=i=>{const m=d&&d!=="new"?d:`quiz-${Date.now()}`,n=i.questions.map(l=>({id:l.id,quizId:m,question:l.text,options:l.options,correctAnswer:l.correctAnswer,points:l.points}));n.reduce((l,N)=>l+N.points,0);const t={id:m,courseId:g,title:i.title,description:"",questions:n,passingScore:70,order:o.length+1};d&&d!=="new"?(u(o.map(l=>l.id===d?t:l)),p("Quiz updated successfully")):(u([...o,t]),p("Quiz created successfully")),b(null),c(!1)},h=()=>{b(null),c(!1)};return d||y?e.jsx(gs,{quizId:d||"new",onBack:h,onSave:j}):e.jsx("div",{className:"max-w-4xl",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-3xl text-[#202732] mb-2",style:{fontFamily:"Caveat, cursive",fontWeight:600},children:"Quizzes & Assessments"}),e.jsx("p",{className:"text-gray-600",style:{fontFamily:"Inter, sans-serif"},children:"Test your students' knowledge and track their progress"})]}),o.length>0?e.jsx("div",{className:"space-y-4 mb-6",children:o.map((i,m)=>e.jsx(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:m*.05},className:"group bg-gray-50 hover:bg-gray-100 rounded-lg p-6 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-[#F5AE35]/10 rounded-lg",children:e.jsx(q,{className:"w-6 h-6 text-[#F5AE35]"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-xl text-[#202732] mb-2",style:{fontFamily:"Caveat, cursive",fontWeight:600},children:i.title}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(q,{className:"w-4 h-4"}),e.jsxs("span",{style:{fontFamily:"Inter, sans-serif"},children:[i.questions.length," questions"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ce,{className:"w-4 h-4"}),e.jsxs("span",{style:{fontFamily:"Inter, sans-serif"},children:[i.questions.reduce((n,t)=>n+t.points,0)," points"]})]}),e.jsxs("div",{style:{fontFamily:"Inter, sans-serif"},children:["Passing: ",i.passingScore,"%"]})]})]}),e.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(a.button,{onClick:()=>b(i.id),className:"p-2 text-[#6E5B6A] hover:bg-white rounded-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.95},children:e.jsx(de,{className:"w-5 h-5"})}),e.jsx(a.button,{onClick:()=>u(o.filter(n=>n.id!==i.id)),className:"p-2 text-red-600 hover:bg-white rounded-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.95},children:e.jsx($,{className:"w-5 h-5"})})]})]})},i.id))}):e.jsxs(a.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ğŸ“"}),e.jsx("h3",{className:"text-2xl text-[#202732] mb-2",style:{fontFamily:"Caveat, cursive",fontWeight:600},children:"No quizzes yet"}),e.jsx("p",{className:"text-gray-600 mb-8",style:{fontFamily:"Inter, sans-serif"},children:"Create quizzes to test your students' knowledge"})]}),e.jsxs(a.button,{onClick:()=>c(!0),className:"w-full py-4 border-2 border-dashed border-[#6E5B6A] text-[#6E5B6A] rounded-lg hover:bg-[#6E5B6A] hover:text-white transition-colors flex items-center justify-center gap-2",whileHover:{scale:1.01},whileTap:{scale:.99},style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:[e.jsx(G,{className:"w-5 h-5"}),"Create Quiz"]})]})})}function vs({courseId:o,onBack:u}){const{createCourse:g,updateCourse:d,getCourseById:b,currentUser:y}=xe(),{showToast:c}=re(),p=o!=="new"?b(o):void 0,[j,h]=s.useState(p?.title||(o==="new"?"Untitled Course":"Introduction to React")),[i,m]=s.useState(p?.published??!1),[n,t]=s.useState("content"),[l,N]=s.useState(!1),[f,B]=s.useState(o!=="new"?o:null),[L,H]=s.useState(p?.lessons.map((v,r)=>({id:v.id,title:v.title,type:v.videoUrl?"video":v.title.toLowerCase().includes("quiz")?"quiz":"document",duration:v.duration,order:v.order||r+1}))??[{id:"1",title:"Introduction to the Course",type:"video",duration:"5:30",order:1},{id:"2",title:"Setting Up Your Environment",type:"document",order:2},{id:"3",title:"Your First Component",type:"video",duration:"12:45",order:3},{id:"4",title:"Quick Knowledge Check",type:"quiz",order:4}]),[T,U]=s.useState(p?.description??""),[E,M]=s.useState(p?.category??"Web Development"),[z,x]=s.useState(p?.level??"beginner"),[k,S]=s.useState(p?["Build modern web applications","Understand core concepts"]:["Build modern web applications","Understand core concepts"]),[A,O]=s.useState(p?.allowGuests??!0),[ae,Q]=s.useState(!1),[R,V]=s.useState(!0),[ne,K]=s.useState(!0),[ie,X]=s.useState(!1),[le,Y]=s.useState(""),[D,W]=s.useState(p?.quizzes??[]),J=s.useCallback(()=>{if(!y)return;N(!0);const v=L.map((C,F)=>({id:C.id.startsWith("lesson-")?C.id:`lesson-${Date.now()}-${F}`,courseId:f||"",title:C.title,description:"",content:"",videoUrl:C.type==="video"?`https://example.com/video-${F}`:void 0,duration:C.duration||"10 min",order:C.order})),r=z.toLowerCase(),w=["beginner","intermediate","advanced"].includes(r)?r:"beginner";if(f&&f!=="new")d(f,{title:j,description:T,category:E,level:w,published:i,allowGuests:A,lessons:v,quizzes:D}),c("Course updated successfully");else{const C=g({title:j,description:T,thumbnail:"https://images.unsplash.com/photo-1557324232-b8917d3c3dcb?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=1080",instructorId:y.id,instructorName:y.name,category:E,tags:[E],level:w,duration:`${L.length*15} min`,price:0,rating:0,reviewsCount:0,studentsCount:0,published:i,allowGuests:A,lessons:v,quizzes:D});B(C.id),c("Course created successfully")}setTimeout(()=>N(!1),600)},[y,j,T,E,z,i,A,L,D,f,g,d,c]),Z=[{id:"content",label:"Content",icon:Me},{id:"description",label:"Description",icon:oe},{id:"options",label:"Options",icon:De},{id:"quiz",label:"Quiz",icon:q}];return e.jsxs("div",{className:"min-h-screen bg-[#F1F2F4] relative overflow-hidden",children:[e.jsx(Ce,{}),e.jsx("header",{className:"sticky top-0 z-20 bg-white border-b border-gray-200 px-8 py-6 shadow-sm",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[e.jsxs(a.button,{onClick:u,className:"flex items-center gap-2 text-[#6E5B6A] hover:bg-[#F1F2F4] px-4 py-2 rounded-lg transition-colors",whileHover:{scale:1.05,x:-5},whileTap:{scale:.98},style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:[e.jsx(ue,{className:"w-5 h-5"}),"Back"]}),e.jsx("input",{type:"text",value:j,onChange:v=>h(v.target.value),className:"text-4xl md:text-5xl text-[#202732] bg-transparent border-none outline-none flex-1 min-w-0",style:{fontFamily:"Caveat, cursive",fontWeight:600},placeholder:"Enter course title..."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-[#202732] font-medium whitespace-nowrap",style:{fontFamily:"Inter, sans-serif"},children:i?"Published":"Draft"}),e.jsx("button",{onClick:()=>m(!i),className:`w-12 h-6 rounded-full transition-colors relative ${i?"bg-[#6E5B6A]":"bg-gray-300"}`,children:e.jsx(a.div,{className:"absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow",animate:{x:i?24:0},transition:{type:"spring",stiffness:500,damping:30}})})]}),e.jsxs(a.button,{className:"flex items-center gap-2 px-6 py-2.5 border-2 border-[#6E5B6A] text-[#6E5B6A] rounded-full hover:bg-[#6E5B6A] hover:text-white transition-colors",whileHover:{scale:1.05},whileTap:{scale:.98},style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:[e.jsx(Ke,{className:"w-4 h-4"}),"Preview"]}),e.jsx(a.button,{onClick:J,disabled:l,className:"flex items-center gap-2 px-6 py-2.5 bg-[#2FBF71] text-white rounded-full hover:bg-[#27a862] transition-colors shadow-lg disabled:opacity-60",whileHover:{scale:1.05},whileTap:{scale:.98},style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:l?e.jsxs(e.Fragment,{children:[e.jsx(pe,{className:"w-4 h-4"}),"Saved!"]}):e.jsxs(e.Fragment,{children:[e.jsx(be,{className:"w-4 h-4"}),"Save Course"]})})]})]}),e.jsxs("div",{className:"flex gap-8 relative border-t border-gray-100 pt-4",children:[Z.map((v,r)=>e.jsxs(a.button,{onClick:()=>t(v.id),className:`flex items-center gap-2 pb-3 text-sm font-medium relative transition-colors ${n===v.id?"text-[#6E5B6A]":"text-gray-500 hover:text-[#6E5B6A]"}`,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:r*.05},whileHover:{y:-2},style:{fontFamily:"Inter, sans-serif"},children:[e.jsx(v.icon,{className:"w-4 h-4"}),v.label]},v.id)),Z.map(v=>n===v.id?e.jsx(a.div,{className:"absolute bottom-0 left-0",layoutId:"activeTabUnderline",transition:{type:"spring",stiffness:500,damping:30},children:e.jsx("svg",{className:"h-2 w-24",viewBox:"0 0 96 8",children:e.jsx(a.path,{d:"M2,4 Q24,2 48,4 T94,4",stroke:"#F5AE35",strokeWidth:"3",fill:"none",strokeLinecap:"round",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.4,ease:"easeInOut"}})})},v.id):null)]})]})}),e.jsx("main",{className:"relative z-10 max-w-7xl mx-auto px-8 py-8",children:e.jsx(_,{mode:"wait",children:e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:"easeOut"},children:[n==="content"&&e.jsx(ys,{lessons:L,onLessonsChange:H,onQuizLessonAdded:(v,r)=>{const w=`quiz-${Date.now()}`,C=Array.from({length:r},(P,ee)=>({id:`q-${w}-${ee+1}`,quizId:w,question:`Question ${ee+1}`,options:["Option A","Option B","Option C","Option D"],correctAnswer:0,points:10})),F={id:w,courseId:f||o,title:v,description:"",questions:C,passingScore:70,order:D.length+1};W(P=>[...P,F]),c(`Quiz "${v}" created with ${r} placeholder questions â€” edit them in the Quiz tab`)}}),n==="description"&&e.jsx(ps,{description:T,onDescriptionChange:U,category:E,onCategoryChange:M,level:z,onLevelChange:x,learningObjectives:k,onLearningObjectivesChange:S}),n==="options"&&e.jsx(fs,{isPublic:A,onPublicChange:O,requiresEnrollment:ae,onRequiresEnrollmentChange:Q,enableComments:R,onEnableCommentsChange:V,enableCertificate:ne,onEnableCertificateChange:K,enableDownloads:ie,onEnableDownloadsChange:X,maxStudents:le,onMaxStudentsChange:Y}),n==="quiz"&&e.jsx(js,{quizzes:D,onQuizzesChange:W,courseId:f||o})]},n)})})]})}function Ns({isOpen:o,courseTitle:u,onConfirm:g,onCancel:d}){const[b,y]=s.useState(""),[c,p]=s.useState(""),j=()=>{b.trim()===u.trim()?(g(),y(""),p("")):p("Course title does not match. Please type the exact title.")},h=()=>{y(""),p(""),d()};return o?e.jsx(_,{children:e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:h,children:e.jsxs(a.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:i=>i.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"p-4 bg-red-100 rounded-full",children:e.jsx(Ie,{className:"w-12 h-12 text-red-600"})})}),e.jsx("button",{onClick:h,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(te,{className:"w-5 h-5 text-gray-500"})}),e.jsx("h2",{className:"text-3xl text-[#202732] mb-4 text-center",style:{fontFamily:"Caveat, cursive",fontWeight:600},children:"Delete Course?"}),e.jsx("p",{className:"text-gray-600 mb-6 text-center",style:{fontFamily:"Inter, sans-serif"},children:"This action cannot be undone. To confirm deletion, please type the exact course title:"}),e.jsx("div",{className:"mb-4 p-3 bg-gray-100 rounded-lg",children:e.jsx("p",{className:"text-center font-semibold text-[#202732]",style:{fontFamily:"Inter, sans-serif"},children:u})}),e.jsx("input",{type:"text",value:b,onChange:i=>{y(i.target.value),p("")},placeholder:"Type course title here",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-red-500 focus:outline-none mb-2",style:{fontFamily:"Inter, sans-serif"}}),c&&e.jsx("p",{className:"text-red-500 text-sm mb-4",style:{fontFamily:"Inter, sans-serif"},children:c}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx(a.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:h,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors",style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:"Cancel"}),e.jsx(a.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:j,disabled:!b.trim(),className:`flex-1 px-6 py-3 rounded-xl transition-colors ${b.trim()?"bg-red-600 text-white hover:bg-red-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:"Delete Course"})]})]})})}):null}function ws(){const[o,u]=s.useState("1"),[g,d]=s.useState(!1),b=[{id:"1",name:"Introduction to React"},{id:"2",name:"Advanced JavaScript"},{id:"3",name:"UI/UX Design Fundamentals"},{id:"4",name:"Data Structures & Algorithms"}],y={1:[{id:"1",name:"Sarah Chen",avatar:"ğŸ‘©â€ğŸ’»",progress:100,status:"completed",lastActivity:"2 hours ago"},{id:"2",name:"Michael Torres",avatar:"ğŸ‘¨â€ğŸ’¼",progress:75,status:"in-progress",lastActivity:"1 day ago"},{id:"3",name:"Emily Roberts",avatar:"ğŸ‘©â€ğŸ“",progress:100,status:"completed",lastActivity:"5 hours ago"},{id:"4",name:"James Wilson",avatar:"ğŸ‘¨â€ğŸ”¬",progress:45,status:"in-progress",lastActivity:"3 days ago"},{id:"5",name:"Olivia Martinez",avatar:"ğŸ‘©â€ğŸ«",progress:30,status:"in-progress",lastActivity:"12 hours ago"},{id:"6",name:"Daniel Kim",avatar:"ğŸ‘¨â€ğŸ’»",progress:100,status:"completed",lastActivity:"1 day ago"},{id:"7",name:"Sophia Anderson",avatar:"ğŸ‘©â€ğŸ”§",progress:60,status:"in-progress",lastActivity:"6 hours ago"},{id:"8",name:"Lucas Brown",avatar:"ğŸ‘¨â€ğŸ¨",progress:15,status:"in-progress",lastActivity:"2 days ago"}],2:[{id:"1",name:"Emma Davis",avatar:"ğŸ‘©â€ğŸ’¼",progress:85,status:"in-progress",lastActivity:"4 hours ago"},{id:"2",name:"Alexander Lee",avatar:"ğŸ‘¨â€ğŸ“",progress:100,status:"completed",lastActivity:"1 day ago"}]},c=y[o]||y[1],p=b.find(t=>t.id===o)||b[0],j=c.length,h=c.filter(t=>t.status==="completed").length,i=c.filter(t=>t.status==="in-progress").length,m=t=>{switch(t){case"completed":return"text-[#2FBF71] bg-[#2FBF71]/10 border-[#2FBF71]/30";case"in-progress":return"text-[#F5AE35] bg-[#F5AE35]/10 border-[#F5AE35]/30";default:return"text-gray-500 bg-gray-100 border-gray-300"}},n=t=>{switch(t){case"completed":return"Completed";case"in-progress":return"In Progress";default:return"Not Started"}};return e.jsx("div",{className:"min-h-screen bg-[#F1F2F4]",children:e.jsxs("div",{className:"max-w-7xl mx-auto p-6 md:p-8",children:[e.jsxs(a.div,{className:"mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("h1",{className:"text-5xl md:text-6xl text-gray-800 mb-2",style:{fontFamily:"Caveat, cursive",fontWeight:700},children:"Course Reports"}),e.jsx("p",{className:"text-gray-600",style:{fontFamily:"Inter, sans-serif"},children:"Track learner progress and engagement"})]}),e.jsxs(a.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{fontFamily:"Inter, sans-serif"},children:"Select Course"}),e.jsxs("div",{className:"relative max-w-md",children:[e.jsxs("button",{onClick:()=>d(!g),className:"w-full bg-white border-2 border-gray-200 rounded-xl px-4 py-3 flex items-center justify-between hover:border-[#6E5B6A]/30 transition-colors",style:{fontFamily:"Inter, sans-serif"},children:[e.jsx("span",{className:"text-gray-800 font-medium",children:p.name}),e.jsx(We,{className:`w-5 h-5 text-gray-500 transition-transform ${g?"rotate-180":""}`})]}),g&&e.jsx(a.div,{className:"absolute top-full left-0 right-0 mt-2 bg-white border-2 border-gray-200 rounded-xl shadow-lg overflow-hidden z-10",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2},children:b.map(t=>e.jsx("button",{onClick:()=>{u(t.id),d(!1)},className:`w-full px-4 py-3 text-left hover:bg-[#6E5B6A]/5 transition-colors ${t.id===o?"bg-[#6E5B6A]/10 text-[#6E5B6A] font-medium":"text-gray-700"}`,style:{fontFamily:"Inter, sans-serif"},children:t.name},t.id))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs(a.div,{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#9AACB6]/10 flex items-center justify-center",children:e.jsx(he,{className:"w-6 h-6 text-[#9AACB6]"})})}),e.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-1",style:{fontFamily:"Inter, sans-serif"},children:j}),e.jsx("p",{className:"text-sm text-gray-600",style:{fontFamily:"Inter, sans-serif"},children:"Total Learners"})]}),e.jsxs(a.div,{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#F5AE35]/10 flex items-center justify-center",children:e.jsx(ke,{className:"w-6 h-6 text-[#F5AE35]"})})}),e.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-1",style:{fontFamily:"Inter, sans-serif"},children:i}),e.jsx("p",{className:"text-sm text-gray-600",style:{fontFamily:"Inter, sans-serif"},children:"In Progress"})]}),e.jsxs(a.div,{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#2FBF71]/10 flex items-center justify-center",children:e.jsx(Ae,{className:"w-6 h-6 text-[#2FBF71]"})})}),e.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-1",style:{fontFamily:"Inter, sans-serif"},children:h}),e.jsx("p",{className:"text-sm text-gray-600",style:{fontFamily:"Inter, sans-serif"},children:"Completed"})]})]}),e.jsx(a.div,{className:"bg-gradient-to-r from-[#6E5B6A]/5 to-[#9AACB6]/5 rounded-2xl p-6 mb-8 border border-[#6E5B6A]/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-[#F5AE35]/20 flex items-center justify-center flex-shrink-0",children:e.jsx(_e,{className:"w-5 h-5 text-[#F5AE35]"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Insight"}),e.jsx("p",{className:"text-gray-700",style:{fontFamily:"Inter, sans-serif"},children:"Lesson 3 has the highest drop-off. Consider reviewing the content or adding more interactive elements to improve engagement."})]})]})}),e.jsxs(a.div,{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},children:[e.jsx("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-800",style:{fontFamily:"Inter, sans-serif"},children:"Learner Progress"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",style:{fontFamily:"Inter, sans-serif"},children:"Student Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",style:{fontFamily:"Inter, sans-serif"},children:"Progress"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",style:{fontFamily:"Inter, sans-serif"},children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",style:{fontFamily:"Inter, sans-serif"},children:"Last Activity"})]})}),e.jsx("tbody",{children:c.map((t,l)=>e.jsxs(a.tr,{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.7+l*.05},children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#6E5B6A] to-[#8b7d8e] flex items-center justify-center text-xl",children:t.avatar}),e.jsx("span",{className:"font-medium text-gray-800",style:{fontFamily:"Inter, sans-serif"},children:t.name})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-1 max-w-[120px]",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-[#6E5B6A] to-[#8b7d8e] h-full rounded-full transition-all duration-500",style:{width:`${t.progress}%`}})})}),e.jsxs("span",{className:"text-sm font-semibold text-gray-700 min-w-[45px]",style:{fontFamily:"Inter, sans-serif"},children:[t.progress,"%"]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${m(t.status)}`,style:{fontFamily:"Inter, sans-serif"},children:n(t.status)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(ye,{className:"w-4 h-4"}),e.jsx("span",{style:{fontFamily:"Inter, sans-serif"},children:t.lastActivity})]})})]},t.id))})]})})]})]})})}function Fs({onCreateCourse:o,onEditCourse:u}){const{currentUser:g,getInstructorCourses:d,logout:b}=xe(),y=Ee(),c=()=>{b(),y("/login")},p=s.useMemo(()=>g?d(g.id).map(x=>({id:x.id,title:x.title,tags:x.tags,isPublished:x.published,lessons:x.lessons.length,duration:x.duration,thumbnail:x.thumbnail})):[],[g,d]),[j,h]=s.useState(null),[i,m]=s.useState(p),[n,t]=s.useState(!1),[l,N]=s.useState(!1),[f,B]=s.useState(null),L=x=>{h(j===x?null:x)},H=x=>{h(null),u(x)},T=x=>{h(null),t(!0)},U=x=>{h(null);const k=i.find(S=>S.id===x);if(k){const S={...k,id:`course-${Date.now()}`,title:`${k.title} (Copy)`,isPublished:!1};m([...i,S])}},E=x=>{h(null);const k=i.find(S=>S.id===x);k&&(B(k),N(!0))},M=()=>{f&&(m(i.filter(x=>x.id!==f.id)),N(!1),B(null))},z=()=>{N(!1),B(null)};return n?e.jsx("div",{className:"min-h-screen bg-[#F1F2F4]",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-8",children:[e.jsx("button",{onClick:()=>t(!1),className:"mb-4 flex items-center gap-2 text-[#6E5B6A] hover:bg-[#F1F2F4] px-4 py-2 rounded-lg transition-colors",style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:"â† Back to Courses"}),e.jsx(ws,{})]})}):e.jsx("div",{className:"min-h-screen bg-[#F1F2F4] py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-8",children:[e.jsxs("div",{className:"flex items-center justify-end gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-full bg-[#6E5B6A] flex items-center justify-center text-white text-sm font-semibold",style:{fontFamily:"Inter, sans-serif"},children:g?.name?.charAt(0).toUpperCase()||e.jsx(Se,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-sm text-[#202732] font-medium hidden sm:inline",style:{fontFamily:"Inter, sans-serif"},children:g?.name})]}),e.jsxs(a.button,{onClick:c,className:"flex items-center gap-2 px-4 py-2 text-sm text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors",whileHover:{scale:1.03},whileTap:{scale:.97},style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:[e.jsx(Te,{className:"w-4 h-4"}),"Logout"]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-12",children:[e.jsx("div",{children:e.jsxs(a.h1,{className:"text-[36px] font-bold text-[#202732] mb-2 relative inline-block",style:{fontFamily:"Caveat, cursive",fontWeight:700},initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:["Your Courses",e.jsx("svg",{className:"absolute -bottom-2 left-0 w-full h-4",viewBox:"0 0 200 12",preserveAspectRatio:"none",children:e.jsx(a.path,{d:"M2,8 Q50,4 100,8 T198,8",stroke:"#F5AE35",strokeWidth:"4",fill:"none",strokeLinecap:"round",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:1.2,delay:.3,ease:"easeInOut"}})})]})}),e.jsxs(a.button,{onClick:o,className:"flex items-center gap-2 px-6 py-3 bg-[#6E5B6A] text-white rounded-xl font-medium shadow-lg",style:{fontFamily:"Inter, sans-serif"},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},whileHover:{scale:1.05},whileTap:{scale:.98},children:[e.jsx(G,{className:"w-5 h-5"}),"Create Course"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((x,k)=>e.jsxs(a.div,{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:k*.1},whileHover:{y:-5},children:[e.jsxs("div",{className:"relative h-48 bg-gray-200 overflow-hidden",children:[e.jsx("img",{src:x.thumbnail,alt:x.title,className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute top-4 right-4",children:[e.jsx("button",{onClick:()=>L(x.id),className:"bg-white/90 backdrop-blur-sm p-2 rounded-lg hover:bg-white transition-colors shadow-md",children:e.jsx(fe,{className:"w-5 h-5 text-[#202732]"})}),e.jsx(_,{children:j===x.id&&e.jsxs(a.div,{className:"absolute top-12 right-0 bg-white rounded-lg shadow-xl border border-gray-200 py-2 w-48 z-10",initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},transition:{duration:.2},children:[e.jsxs("button",{onClick:()=>H(x.id),className:"w-full px-4 py-2 text-left flex items-center gap-3 hover:bg-gray-50 transition-colors",style:{fontFamily:"Inter, sans-serif"},children:[e.jsx(de,{className:"w-4 h-4 text-[#6E5B6A]"}),e.jsx("span",{className:"text-[#202732]",children:"Edit Course"})]}),e.jsxs("button",{onClick:()=>T(x.id),className:"w-full px-4 py-2 text-left flex items-center gap-3 hover:bg-gray-50 transition-colors",style:{fontFamily:"Inter, sans-serif"},children:[e.jsx(Be,{className:"w-4 h-4 text-[#6E5B6A]"}),e.jsx("span",{className:"text-[#202732]",children:"View Analytics"})]}),e.jsxs("button",{onClick:()=>U(x.id),className:"w-full px-4 py-2 text-left flex items-center gap-3 hover:bg-gray-50 transition-colors",style:{fontFamily:"Inter, sans-serif"},children:[e.jsx(Ve,{className:"w-4 h-4 text-[#6E5B6A]"}),e.jsx("span",{className:"text-[#202732]",children:"Duplicate"})]}),e.jsx("div",{className:"border-t border-gray-200 my-1"}),e.jsxs("button",{onClick:()=>E(x.id),className:"w-full px-4 py-2 text-left flex items-center gap-3 hover:bg-red-50 transition-colors",style:{fontFamily:"Inter, sans-serif"},children:[e.jsx($,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"text-red-500",children:"Delete"})]})]})})]}),e.jsx("div",{className:"absolute bottom-4 left-4",children:x.isPublished?e.jsx("span",{className:"px-3 py-1 bg-[#2FBF71] text-white text-xs font-semibold rounded-full",style:{fontFamily:"Inter, sans-serif"},children:"Published"}):e.jsx("span",{className:"px-3 py-1 bg-gray-50 text-[#9CA3AF] border border-[#9CA3AF] text-xs font-semibold rounded-full",style:{fontFamily:"Inter, sans-serif"},children:"Draft"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-[20px] font-medium text-[#202732] mb-3 line-clamp-2",style:{fontFamily:"Inter, sans-serif"},children:x.title}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:x.tags.map((S,A)=>e.jsx("span",{className:"px-3 py-1 bg-purple-50 text-purple-700 text-xs font-medium rounded-full",style:{fontFamily:"Inter, sans-serif"},children:S},A))}),e.jsxs("div",{className:"flex items-center gap-4 text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",style:{fontFamily:"Inter, sans-serif"},children:[x.lessons," lessons"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",style:{fontFamily:"Inter, sans-serif"},children:x.duration})]})]})]})]},x.id))}),e.jsx(Ns,{isOpen:l,courseTitle:f?.title||"",onConfirm:M,onCancel:z}),i.length===0&&e.jsxs(a.div,{className:"text-center py-20",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},children:[e.jsx("div",{className:"text-6xl mb-4",children:"ğŸ“š"}),e.jsx("h3",{className:"text-2xl font-semibold text-[#202732] mb-2",style:{fontFamily:"Caveat, cursive"},children:"No courses yet"}),e.jsx("p",{className:"text-gray-600 mb-6",style:{fontFamily:"Inter, sans-serif"},children:"Start creating your first course and share your knowledge!"}),e.jsx(a.button,{onClick:o,className:"px-8 py-3 bg-[#6E5B6A] text-white rounded-xl font-medium shadow-lg",style:{fontFamily:"Inter, sans-serif"},whileHover:{scale:1.05},whileTap:{scale:.98},children:"Create Your First Course"})]})]})})}function Ms(){const[o,u]=s.useState(null),[g,d]=s.useState(!1),b=()=>{u(null),d(!1)};return o||g?e.jsx(vs,{courseId:o||"new",onBack:b}):e.jsx(Fs,{onCreateCourse:()=>d(!0),onEditCourse:y=>u(y)})}export{Ms as InstructorCoursesPage};
